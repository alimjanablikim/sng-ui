import{L as _e,a as ue,ca as he,t as pe}from"./chunk-RMUS6ZDN.js";import{$ as Z,B as H,G as J,H as q,Ja as te,M as G,X as K,Y as X,_ as Y,a as A,aa as ee,ab as ne,bb as ie,cb as se,db as re,eb as ae,fb as le,hb as oe,i as L,j as B,k as W,l as $,m as j,n as Q,o as O,tb as de,vb as ge,wb as me,xb as ce}from"./chunk-P7Z2BY5T.js";import{Aa as a,B as p,Ba as v,C as T,Ea as M,Ga as b,Ha as f,Ia as C,Ka as F,La as z,N as o,Na as w,T as I,W as P,ba as R,ca as N,da as h,ea as s,fa as r,ga as S,la as U,na as m,p as V,pa as u,r as d,s as g,va as x,za as D}from"./chunk-V3OY2GMA.js";import{a as E,b as k}from"./chunk-2NFLSA4Y.js";var Se=()=>[10,20,30,50],we=(_,n)=>n.id;function xe(_,n){if(_&1){let e=U();s(0,"sng-dialog-content",31)(1,"sng-dialog-header")(2,"sng-dialog-title"),a(3,"Add New User"),r(),s(4,"sng-dialog-description"),a(5,"Fill in the details to create a new user account."),r()(),s(6,"div",32)(7,"div",33)(8,"label",34),a(9,"Name"),r(),s(10,"sng-input",35),C("valueChange",function(i){d(e);let l=u();return f(l.newUserName,i)||(l.newUserName=i),g(i)}),r()(),s(11,"div",33)(12,"label",34),a(13,"Email"),r(),s(14,"sng-input",36),C("valueChange",function(i){d(e);let l=u();return f(l.newUserEmail,i)||(l.newUserEmail=i),g(i)}),r()(),s(15,"div",33)(16,"label",34),a(17,"Role"),r(),s(18,"sng-select",37),m("valueChange",function(i){d(e);let l=u();return g(l.setNewUserRole(i))}),s(19,"sng-select-item",18),a(20,"Admin"),r(),s(21,"sng-select-item",19),a(22,"Moderator"),r(),s(23,"sng-select-item",20),a(24,"Editor"),r(),s(25,"sng-select-item",21),a(26,"User"),r()()()(),s(27,"sng-dialog-footer")(28,"sng-button",38),m("click",function(){d(e),u();let i=x(8);return g(i.close())}),a(29,"Cancel"),r(),s(30,"sng-button",6),m("click",function(){d(e);let i=u(),l=x(8);return g(i.createUser(l))}),a(31,"Create User"),r()()()}if(_&2){let e=u();o(10),b("value",e.newUserName),o(4),b("value",e.newUserEmail),o(4),h("value",e.newUserRole())}}function Ue(_,n){if(_&1){let e=U();s(0,"sng-table-row",28)(1,"sng-table-cell")(2,"sng-checkbox",39),m("checkedChange",function(){let i=d(e).$implicit,l=u();return g(l.toggleSelection(i.id))}),r()(),s(3,"sng-table-cell")(4,"div",40)(5,"sng-avatar",41)(6,"sng-avatar-fallback"),a(7),r()(),s(8,"div")(9,"p",42),a(10),r(),s(11,"p",29),a(12),r()()()(),s(13,"sng-table-cell")(14,"sng-badge"),a(15),r()(),s(16,"sng-table-cell")(17,"div",14),S(18,"span",43),s(19,"span",44),a(20),r()()(),s(21,"sng-table-cell")(22,"sng-menu")(23,"sng-button",45),S(24,"sng-icon",46),r(),s(25,"sng-menu-label"),a(26,"Actions"),r(),s(27,"sng-menu-item",47),m("click",function(){let i=d(e).$implicit,l=u();return g(l.viewDetails(i))}),a(28,"View Details"),r(),s(29,"sng-menu-item",47),m("click",function(){let i=d(e).$implicit,l=u();return g(l.cycleRole(i.id))}),a(30,"Edit User"),r(),s(31,"sng-menu-item",47),m("click",function(){let i=d(e).$implicit,l=u();return g(l.resetPassword(i))}),a(32,"Reset Password"),r(),S(33,"sng-menu-separator"),s(34,"sng-menu-item",48),m("click",function(){let i=d(e).$implicit,l=u();return g(l.deleteUser(i.id))}),a(35,"Delete User"),r()()()()}if(_&2){let e=n.$implicit,t=u();h("selected",t.isSelected(e.id)),o(2),h("checked",t.isSelected(e.id)),o(5),v(t.getInitials(e.name)),o(3),v(e.name),o(2),v(e.email),o(2),D(t.getRoleClasses(e.role)+" capitalize"),o(),v(e.role),o(3),D(t.getStatusColor(e.status)),o(2),v(e.status),o(4),h("icon",t.moreVertRegularIcon)}}function be(_,n){_&1&&(s(0,"sng-table-row")(1,"sng-table-cell",49),a(2,"No users match the current filters."),r()())}var ve=class _{userPlusRegularIcon=he;downloadRegularIcon=pe;moreVertRegularIcon=_e;toast=V(te);users=p([{id:"1",name:"Olivia Martin",email:"olivia.martin@email.com",role:"admin",status:"active"},{id:"2",name:"Jackson Lee",email:"jackson.lee@email.com",role:"editor",status:"active"},{id:"3",name:"Isabella Nguyen",email:"isabella.nguyen@email.com",role:"user",status:"pending"},{id:"4",name:"William Kim",email:"will@email.com",role:"moderator",status:"active"},{id:"5",name:"Sofia Davis",email:"sofia.davis@email.com",role:"user",status:"inactive"},{id:"6",name:"James Wilson",email:"james.wilson@email.com",role:"editor",status:"active"},{id:"7",name:"Emma Thompson",email:"emma.thompson@email.com",role:"user",status:"active"},{id:"8",name:"Lucas Martinez",email:"lucas.martinez@email.com",role:"user",status:"pending"},{id:"9",name:"Mia Anderson",email:"mia.anderson@email.com",role:"moderator",status:"active"},{id:"10",name:"Noah Taylor",email:"noah.taylor@email.com",role:"user",status:"inactive"},{id:"11",name:"Ava Brown",email:"ava.brown@email.com",role:"editor",status:"active"},{id:"12",name:"Ethan Garcia",email:"ethan.garcia@email.com",role:"user",status:"active"}]);nextUserId=p(13);pageIndex=p(0);pageSize=p(10);selectedUsers=p(new Set);statusFilter=p("all");roleFilter=p("all");searchQuery=p("");newUserName=p("");newUserEmail=p("");newUserRole=p("user");filteredUsers=w(()=>{let n=this.statusFilter(),e=this.roleFilter(),t=this.searchQuery().trim().toLowerCase();return this.users().filter(i=>n!=="all"&&i.status!==n||e!=="all"&&i.role!==e?!1:t?i.name.toLowerCase().includes(t)||i.email.toLowerCase().includes(t):!0)});pageCount=w(()=>Math.max(1,Math.ceil(this.filteredUsers().length/this.pageSize())));paginatedUsers=w(()=>{let n=this.pageIndex()*this.pageSize(),e=n+this.pageSize();return this.filteredUsers().slice(n,e)});allSelected=w(()=>{let n=this.paginatedUsers();return n.length>0&&n.every(e=>this.selectedUsers().has(e.id))});someSelected=w(()=>{let n=this.paginatedUsers(),e=this.selectedUsers(),t=n.filter(i=>e.has(i.id)).length;return t>0&&t<n.length});constructor(){T(()=>{let n=Math.max(0,this.pageCount()-1);this.pageIndex()>n&&this.pageIndex.set(n)})}getInitials(n){return n.split(" ").map(e=>e[0]).join("").toUpperCase()}getRoleClasses(n){switch(n){case"admin":return"";case"moderator":return"bg-secondary text-secondary-foreground";case"editor":return"bg-transparent text-foreground";default:return"bg-transparent text-foreground"}}getStatusColor(n){switch(n){case"active":return"bg-green-500";case"inactive":return"bg-gray-400";case"pending":return"bg-yellow-500";default:return"bg-gray-400"}}countByStatus(n){return this.users().filter(e=>e.status===n).length}setStatusFilter(n){this.statusFilter.set(n),this.pageIndex.set(0)}setRoleFilter(n){let e=typeof n=="string"?n:"all";(e==="admin"||e==="moderator"||e==="editor"||e==="user"||e==="all")&&(this.roleFilter.set(e),this.pageIndex.set(0))}setNewUserRole(n){let e=typeof n=="string"?n:"user";(e==="admin"||e==="moderator"||e==="editor"||e==="user")&&this.newUserRole.set(e)}createUser(n){let e=this.newUserName().trim(),t=this.newUserEmail().trim();if(!e||!t||!t.includes("@")){this.toast.warning("User not created","Enter a valid name and email address.");return}let i=String(this.nextUserId());this.nextUserId.update(l=>l+1),this.users.update(l=>[{id:i,name:e,email:t,role:this.newUserRole(),status:"pending"},...l]),this.newUserName.set(""),this.newUserEmail.set(""),this.newUserRole.set("user"),this.pageIndex.set(0),this.toast.success("User created",`${e} was added with pending status.`),n.close()}viewDetails(n){this.toast.show({title:`${n.name}`,description:`${n.email} \u2022 ${n.role} \u2022 ${n.status}`})}cycleRole(n){let e=["user","editor","moderator","admin"],t="",i="user";this.users.update(l=>l.map(c=>{if(c.id!==n)return c;let y=e.indexOf(c.role);return i=e[(y+1)%e.length],t=c.name,k(E({},c),{role:i})})),t&&this.toast.success("Role updated",`${t} is now ${i}.`)}resetPassword(n){this.toast.show({title:"Reset email sent",description:`Password reset link sent to ${n.email}.`})}deleteUser(n){let e=this.users().find(i=>i.id===n);if(!e)return;this.users.update(i=>i.filter(l=>l.id!==n));let t=new Set(this.selectedUsers());t.delete(n),this.selectedUsers.set(t),this.toast.warning("User deleted",`${e.name} was removed from the workspace.`)}exportCurrentView(){this.toast.show({title:"Export started",description:`${this.filteredUsers().length} users are being exported.`})}isSelected(n){return this.selectedUsers().has(n)}toggleSelection(n){let e=new Set(this.selectedUsers());e.has(n)?e.delete(n):e.add(n),this.selectedUsers.set(e)}toggleAll(n){if(n){let t=new Set(this.selectedUsers());this.paginatedUsers().forEach(i=>t.add(i.id)),this.selectedUsers.set(t);return}let e=new Set(this.selectedUsers());this.paginatedUsers().forEach(t=>e.delete(t.id)),this.selectedUsers.set(e)}goToFirstPage(){this.pageIndex.set(0)}goToPreviousPage(){this.pageIndex.update(n=>Math.max(0,n-1))}goToNextPage(){this.pageIndex.update(n=>Math.min(this.pageCount()-1,n+1))}goToLastPage(){this.pageIndex.set(this.pageCount()-1)}setPageSize(n){this.pageSize.set(n),this.pageIndex.set(0)}static \u0275fac=function(e){return new(e||_)};static \u0275cmp=I({type:_,selectors:[["app-demo-users"]],decls:70,vars:22,consts:[["addUserDialog",""],["addUserContent",""],[1,"space-y-6","p-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","tracking-tight"],[1,"text-muted-foreground"],[1,"bg-primary","text-primary-foreground","shadow-xs","hover:bg-primary/90",3,"click"],[1,"mr-2","size-4",3,"icon"],[3,"defaultValue"],["value","all",3,"click"],[1,"ml-2","bg-secondary","text-secondary-foreground"],["value","active",3,"click"],["value","inactive",3,"click"],["value","pending",3,"click"],[1,"flex","items-center","gap-2"],["placeholder","Search users...",1,"h-8","w-[250px]",3,"valueChange","value"],["placeholder","Role",1,"w-[160px]",3,"valueChange","value"],["value","all"],["value","admin"],["value","moderator"],["value","editor"],["value","user"],[1,"ml-auto","h-8","border","bg-background","px-3","text-xs","shadow-xs","hover:bg-accent","hover:text-accent-foreground",3,"click"],[1,"rounded-md","border"],[1,"w-[40px]"],[3,"checkedChange","checked","indeterminate"],[1,"w-[120px]"],[1,"w-[100px]"],[3,"selected"],[1,"text-sm","text-muted-foreground"],[3,"firstPage","previousPage","nextPage","lastPage","pageSizeChange","pageIndex","pageCount","pageSize","pageSizeOptions","canPreviousPage","canNextPage"],[1,"sm:max-w-[425px]"],[1,"grid","gap-4","py-4"],[1,"grid","grid-cols-4","items-center","gap-4"],[1,"text-right","text-sm"],["placeholder","John Doe",1,"col-span-3",3,"valueChange","value"],["placeholder","john@example.com",1,"col-span-3",3,"valueChange","value"],["placeholder","Select role",1,"col-span-3",3,"valueChange","value"],[1,"border","bg-background","shadow-xs","hover:bg-accent","hover:text-accent-foreground",3,"click"],[3,"checkedChange","checked"],[1,"flex","items-center","gap-3"],[1,"size-8"],[1,"font-medium"],[1,"size-2","rounded-full"],[1,"capitalize"],["sng-menu-trigger","",1,"h-8","w-8","p-0","hover:bg-accent","hover:text-accent-foreground"],[1,"size-4",3,"icon"],[3,"click"],[1,"text-destructive",3,"click"],["colspan","5",1,"h-24","text-center","text-sm","text-muted-foreground"]],template:function(e,t){if(e&1){let i=U();s(0,"div",2)(1,"div",3)(2,"div")(3,"h1",4),a(4,"Users"),r(),s(5,"p",5),a(6,"Manage all users and their roles"),r()(),s(7,"sng-dialog",null,0)(9,"sng-button",6),m("click",function(){d(i);let c=x(8),y=x(13);return g(c.open(y))}),S(10,"sng-icon",7),a(11," Add User "),r(),P(12,xe,32,3,"ng-template",null,1,z),r()(),s(14,"sng-tabs",8)(15,"div",3)(16,"sng-tabs-list")(17,"sng-tabs-trigger",9),m("click",function(){return d(i),g(t.setStatusFilter("all"))}),a(18,"All Users "),s(19,"sng-badge",10),a(20),r()(),s(21,"sng-tabs-trigger",11),m("click",function(){return d(i),g(t.setStatusFilter("active"))}),a(22,"Active "),s(23,"sng-badge",10),a(24),r()(),s(25,"sng-tabs-trigger",12),m("click",function(){return d(i),g(t.setStatusFilter("inactive"))}),a(26,"Inactive "),s(27,"sng-badge",10),a(28),r()(),s(29,"sng-tabs-trigger",13),m("click",function(){return d(i),g(t.setStatusFilter("pending"))}),a(30,"Pending "),s(31,"sng-badge",10),a(32),r()()()()(),s(33,"div",14)(34,"sng-input",15),C("valueChange",function(c){return d(i),f(t.searchQuery,c)||(t.searchQuery=c),g(c)}),r(),s(35,"sng-select",16),m("valueChange",function(c){return d(i),g(t.setRoleFilter(c))}),s(36,"sng-select-item",17),a(37,"All Roles"),r(),s(38,"sng-select-item",18),a(39,"Admin"),r(),s(40,"sng-select-item",19),a(41,"Moderator"),r(),s(42,"sng-select-item",20),a(43,"Editor"),r(),s(44,"sng-select-item",21),a(45,"User"),r()(),s(46,"sng-button",22),m("click",function(){return d(i),g(t.exportCurrentView())}),S(47,"sng-icon",7),a(48," Export "),r()(),s(49,"div",23)(50,"sng-table")(51,"sng-table-header")(52,"sng-table-row")(53,"sng-table-head",24)(54,"sng-checkbox",25),m("checkedChange",function(c){return d(i),g(t.toggleAll(c))}),r()(),s(55,"sng-table-head"),a(56,"User"),r(),s(57,"sng-table-head",26),a(58,"Role"),r(),s(59,"sng-table-head",27),a(60,"Status"),r(),S(61,"sng-table-head",24),r()(),s(62,"sng-table-body"),R(63,Ue,36,12,"sng-table-row",28,we,!1,be,3,0,"sng-table-row"),r()()(),s(66,"div",3)(67,"p",29),a(68),r(),s(69,"sng-table-pagination",30),m("firstPage",function(){return d(i),g(t.goToFirstPage())})("previousPage",function(){return d(i),g(t.goToPreviousPage())})("nextPage",function(){return d(i),g(t.goToNextPage())})("lastPage",function(){return d(i),g(t.goToLastPage())})("pageSizeChange",function(c){return d(i),g(t.setPageSize(c))}),r()()()}e&2&&(o(10),h("icon",t.userPlusRegularIcon),o(4),h("defaultValue",t.statusFilter()),o(6),v(t.users().length),o(4),v(t.countByStatus("active")),o(4),v(t.countByStatus("inactive")),o(4),v(t.countByStatus("pending")),o(2),b("value",t.searchQuery),o(),h("value",t.roleFilter()),o(12),h("icon",t.downloadRegularIcon),o(7),h("checked",t.allSelected())("indeterminate",t.someSelected()),o(9),N(t.paginatedUsers()),o(5),M(" ",t.selectedUsers().size," selected \u2022 ",t.filteredUsers().length," shown of ",t.users().length," users. "),o(),h("pageIndex",t.pageIndex())("pageCount",t.pageCount())("pageSize",t.pageSize())("pageSizeOptions",F(21,Se))("canPreviousPage",t.pageIndex()>0)("canNextPage",t.pageIndex()<t.pageCount()-1))},dependencies:[A,O,G,H,J,q,ne,ie,se,re,ae,le,oe,Y,Z,ee,de,ge,me,ce,L,B,W,$,j,Q,X,K,ue],encapsulation:2,changeDetection:0})};export{ve as DemoUsersComponent};
