import{$ as K,B as P,E as k,G as I,H as M,R as T,Ra as A,S as O,T as F,V as L,_ as N,a as w,aa as W,ba as R}from"./chunk-P7Z2BY5T.js";import{$ as C,Aa as i,B as m,Ba as o,Ca as b,Da as E,N as l,Na as g,T as f,_ as D,ba as p,ca as u,da as y,ea as t,fa as e,ga as _,na as c,pa as v,za as x}from"./chunk-V3OY2GMA.js";import{a as h}from"./chunk-2NFLSA4Y.js";var $=(r,a)=>a.dayLabel,V=(r,a)=>a.id;function j(r,a){if(r&1&&(t(0,"div",16)(1,"div",32)(2,"sng-avatar",33)(3,"sng-avatar-fallback",34),i(4),e()(),t(5,"div")(6,"p",35),i(7),e(),t(8,"p",36),i(9),e()()(),t(10,"sng-badge"),i(11),e()()),r&2){let n=a.$implicit,d=v();l(4),o(n.initials),l(3),o(n.name),l(2),E("",n.dayLabel," \xB7 ",n.window),l(),x(n.dayIndex===d.selectedWeekDayIndex()?"bg-primary text-primary-foreground":"border bg-background text-foreground"),l(),b(" ",n.dayIndex===d.selectedWeekDayIndex()?"active":"standby"," ")}}function B(r,a){if(r&1&&(t(0,"div",16)(1,"div")(2,"p",35),i(3),e(),t(4,"p",36),i(5),e()(),t(6,"sng-badge"),i(7),e()()),r&2){let n=a.$implicit;l(3),o(n.title),l(2),o(n.environment),l(),x(n.status==="ready"?"bg-emerald-500/15 text-emerald-700 dark:text-emerald-400 border-transparent":n.status==="blocked"?"bg-red-500/15 text-red-700 dark:text-red-400 border-transparent":"bg-secondary text-secondary-foreground"),l(),b(" ",n.status," ")}}function z(r,a){if(r&1&&p(0,B,8,5,"div",16,V),r&2){let n=v();u(n.releaseMilestonesForSelectedDate())}}function G(r,a){r&1&&(t(0,"div",18),i(1," No milestones scheduled for this date. "),e())}function H(r,a){if(r&1&&(t(0,"div",16)(1,"div",32)(2,"sng-avatar",33)(3,"sng-avatar-fallback",34),i(4),e()(),t(5,"div")(6,"p",35),i(7),e(),t(8,"p",36),i(9),e()()(),t(10,"sng-badge",5),i(11),e()()),r&2){let n=a.$implicit;l(4),o(n.initials),l(3),o(n.name),l(2),o(n.dates),l(2),o(n.type)}}var J=class r{selectedOnCallDate=m(new Date);selectedPtoDate=m(new Date);sprintProgress=m(68);nextPtoId=m(4);onCallRotation=m([{dayLabel:"Monday",dayIndex:1,name:"Sarah Chen",initials:"SC",phone:"+1 555-0101",window:"9am-5pm"},{dayLabel:"Tuesday",dayIndex:2,name:"John Doe",initials:"JD",phone:"+1 555-0102",window:"9am-5pm"},{dayLabel:"Wednesday",dayIndex:3,name:"Mike Johnson",initials:"MJ",phone:"+1 555-0103",window:"9am-5pm"},{dayLabel:"Thursday",dayIndex:4,name:"Emily Wang",initials:"EW",phone:"+1 555-0104",window:"9am-5pm"},{dayLabel:"Friday",dayIndex:5,name:"David Kim",initials:"DK",phone:"+1 555-0105",window:"9am-5pm"}]);milestones=m([{id:1,dateKey:this.toDateKey(new Date(2026,0,24)),title:"API Gateway v2.5.0",environment:"production",status:"ready"},{id:2,dateKey:this.toDateKey(new Date(2026,0,25)),title:"Mobile BFF v3.2.1",environment:"production",status:"planned"},{id:3,dateKey:this.toDateKey(new Date(2026,0,26)),title:"Auth Service v1.0.5",environment:"staging",status:"blocked"},{id:4,dateKey:this.toDateKey(new Date(2026,0,26)),title:"Analytics v2.1.0",environment:"development",status:"planned"}]);upcomingPto=m([{id:1,name:"Lisa Park",initials:"LP",dates:"Jan 27 - Jan 31",type:"Vacation"},{id:2,name:"Tom Wilson",initials:"TW",dates:"Feb 3 - Feb 4",type:"Personal"},{id:3,name:"Anna Smith",initials:"AS",dates:"Feb 10 - Feb 14",type:"Vacation"}]);selectedWeekDayIndex=g(()=>this.selectedOnCallDate().getDay());selectedOnCallLabel=g(()=>this.selectedOnCallDate().toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",year:"numeric"}));onCallWeekView=g(()=>this.onCallRotation());releaseMilestonesForSelectedDate=g(()=>{let a=this.toDateKey(this.selectedOnCallDate());return this.milestones().filter(n=>n.dateKey===a)});onOnCallDateSelected(a){this.selectedOnCallDate.set(a)}onPtoDateSelected(a){this.selectedPtoDate.set(a)}rotateOnCall(){this.onCallRotation.update(a=>{if(a.length<=1)return a;let[n,...d]=a;return[...d,n]})}shiftSprintProgress(a){this.sprintProgress.update(n=>Math.max(0,Math.min(100,n+a)))}addPtoEntry(){let a=this.nextPtoId(),n=[{name:"Nora Diaz",initials:"ND",dates:"Feb 18 - Feb 20",type:"Conference"},{name:"James Li",initials:"JL",dates:"Feb 22 - Feb 23",type:"Personal"},{name:"Olivia Reed",initials:"OR",dates:"Mar 2 - Mar 6",type:"Vacation"}],d=n[a%n.length];this.upcomingPto.update(s=>[h({id:a},d),...s]),this.nextPtoId.set(a+1)}toDateKey(a){let n=a.getFullYear(),d=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0");return`${n}-${d}-${s}`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=f({type:r,selectors:[["app-demo-schedule"]],decls:83,vars:8,consts:[[1,"space-y-6","p-6"],[1,"flex","flex-wrap","items-start","justify-between","gap-3"],[1,"text-3xl","font-bold","tracking-tight"],[1,"text-sm","text-muted-foreground"],[1,"flex","items-center","gap-2"],[1,"border","bg-background","text-foreground"],[1,"bg-primary","text-primary-foreground","shadow-xs","hover:bg-primary/90",3,"click"],["defaultValue","oncall"],["value","oncall"],["value","sprints"],["value","pto"],["value","oncall",1,"pt-4"],[1,"grid","gap-6","xl:grid-cols-[minmax(0,1.35fr)_minmax(0,1fr)]"],[1,"flex","justify-center","p-4"],[3,"dateSelected","numberOfMonths","showTodayButton","selected"],[1,"space-y-3"],[1,"flex","items-center","justify-between","rounded-lg","border","p-3"],[1,"mt-6"],[1,"rounded-lg","border","border-dashed","p-4","text-sm","text-muted-foreground"],["value","sprints",1,"pt-4"],[1,"space-y-4"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-muted-foreground"],[1,"bg-primary","text-primary-foreground"],[1,"space-y-2"],[1,"flex","justify-between","text-sm"],[3,"value"],[1,"border","bg-background","shadow-xs","hover:bg-accent","hover:text-accent-foreground",3,"click"],["value","pto",1,"pt-4"],[1,"grid","gap-6","md:grid-cols-2"],[3,"dateSelected","selected"],[1,"flex","items-center","justify-between","gap-2"],[1,"flex","items-center","gap-3"],[1,"size-8"],[1,"text-xs"],[1,"font-medium"],[1,"text-xs","text-muted-foreground"]],template:function(n,d){n&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),i(4,"Schedule"),e(),t(5,"p",3),i(6,"Live on-call planning, release windows, and team availability."),e()(),t(7,"div",4)(8,"sng-badge",5),i(9),e(),t(10,"sng-button",6),c("click",function(){return d.rotateOnCall()}),i(11,"Rotate On-call"),e()()(),t(12,"sng-tabs",7)(13,"sng-tabs-list")(14,"sng-tabs-trigger",8),i(15,"On-Call Rotation"),e(),t(16,"sng-tabs-trigger",9),i(17,"Sprints"),e(),t(18,"sng-tabs-trigger",10),i(19,"Time Off"),e()(),t(20,"sng-tabs-content",11)(21,"div",12)(22,"sng-card")(23,"sng-card-header")(24,"sng-card-title"),i(25,"Planning calendar"),e()(),t(26,"sng-card-content",13)(27,"sng-calendar",14),c("dateSelected",function(S){return d.onOnCallDateSelected(S)}),e()()(),t(28,"sng-card")(29,"sng-card-header")(30,"sng-card-title"),i(31,"On-call this week"),e()(),t(32,"sng-card-content",15),p(33,j,12,7,"div",16,$),e()()(),t(35,"sng-card",17)(36,"sng-card-header")(37,"sng-card-title"),i(38,"Release milestones on selected freeze date"),e()(),t(39,"sng-card-content",15),D(40,z,2,0)(41,G,2,0,"div",18),e()()(),t(42,"sng-tabs-content",19)(43,"sng-card")(44,"sng-card-header")(45,"sng-card-title"),i(46,"Current Sprint: Sprint 24"),e()(),t(47,"sng-card-content",20)(48,"div",21)(49,"span",22),i(50,"Jan 20 - Feb 3, 2026"),e(),t(51,"sng-badge",23),i(52,"In Progress"),e()(),t(53,"div",24)(54,"div",25)(55,"span"),i(56,"Sprint completion"),e(),t(57,"span"),i(58),e()(),_(59,"sng-progress",26),e(),t(60,"div",4)(61,"sng-button",27),c("click",function(){return d.shiftSprintProgress(-8)}),i(62,"Slow down"),e(),t(63,"sng-button",6),c("click",function(){return d.shiftSprintProgress(8)}),i(64,"Boost progress"),e()()()()(),t(65,"sng-tabs-content",28)(66,"div",29)(67,"sng-card")(68,"sng-card-header")(69,"sng-card-title"),i(70,"PTO calendar"),e()(),t(71,"sng-card-content",13)(72,"sng-calendar",30),c("dateSelected",function(S){return d.onPtoDateSelected(S)}),e()()(),t(73,"sng-card")(74,"sng-card-header")(75,"div",31)(76,"sng-card-title"),i(77,"Upcoming time off"),e(),t(78,"sng-button",6),c("click",function(){return d.addPtoEntry()}),i(79," Add PTO "),e()()(),t(80,"sng-card-content",15),p(81,H,12,4,"div",16,V),e()()()()()()),n&2&&(l(9),o(d.selectedOnCallLabel()),l(18),y("numberOfMonths",2)("showTodayButton",!0)("selected",d.selectedOnCallDate()),l(6),u(d.onCallWeekView()),l(7),C(d.releaseMilestonesForSelectedDate().length?40:41),l(18),b("",d.sprintProgress(),"%"),l(),y("value",d.sprintProgress()),l(13),y("selected",d.selectedPtoDate()),l(9),u(d.upcomingPto()))},dependencies:[P,w,A,T,L,O,F,k,N,R,K,W,I,M],encapsulation:2,changeDetection:0})};export{J as DemoScheduleComponent};
