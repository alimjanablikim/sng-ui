import{T as k,Z as E,a as se}from"./chunk-RMUS6ZDN.js";import{A as O,B as V,I as z,Ja as $,L as G,Q as q,R as J,S as K,T as X,U as Y,V as Z,a as N,ab as ee,bb as te,cb as ne,db as ie,eb as re,f as Q,fb as ae,g as H,h as W,u as P,v as U,w as L,x as B,y as F,z as j}from"./chunk-P7Z2BY5T.js";import{Aa as n,B as g,Ba as p,Ca as w,Ga as h,Ha as S,Ia as _,N as o,T as M,ba as R,ca as T,da as c,ea as e,fa as t,ga as u,la as I,na as d,p as D,pa as x,r as C,s as v,za as A}from"./chunk-V3OY2GMA.js";import{a as y,b as f}from"./chunk-2NFLSA4Y.js";var le=(m,l)=>l.id;function de(m,l){if(m&1){let r=I();e(0,"sng-table-row")(1,"sng-table-cell",20),n(2),t(),e(3,"sng-table-cell"),n(4),t(),e(5,"sng-table-cell")(6,"div",21)(7,"sng-slider",22),d("valueChange",function(s){let a=C(r).$implicit,b=x();return v(b.updateThreshold(a.id,s))}),t(),e(8,"span",23),n(9),t()()(),e(10,"sng-table-cell")(11,"sng-badge"),n(12),t()(),e(13,"sng-table-cell")(14,"sng-switch",24),d("checkedChange",function(s){let a=C(r).$implicit,b=x();return v(b.toggleRule(a.id,s))}),t()()()}if(m&2){let r=l.$implicit;o(2),p(r.name),o(2),p(r.metric),o(3),c("value",r.threshold)("min",0)("max",100)("step",5),o(2),w("",r.threshold,"%"),o(2),A(r.severity==="critical"?"bg-destructive text-white":"bg-secondary text-secondary-foreground"),o(),w(" ",r.severity," "),o(2),c("checked",r.enabled)}}var oe=class m{refreshDoubleRegular=k;soundHighRegular=E;toast=D($);refreshDoubleRegularIcon=k;soundHighRegularIcon=E;autoRefresh=g(!0);soundEnabled=g(!1);commandQuery=g("");lastCommand=g("No command executed yet");alertRules=g([{id:1,name:"High CPU Usage",metric:"CPU %",threshold:80,severity:"warning",enabled:!0},{id:2,name:"Critical CPU Usage",metric:"CPU %",threshold:95,severity:"critical",enabled:!0},{id:3,name:"High Memory Usage",metric:"Memory %",threshold:80,severity:"warning",enabled:!0},{id:4,name:"Critical Memory Usage",metric:"Memory %",threshold:95,severity:"critical",enabled:!0},{id:5,name:"Disk Space Low",metric:"Disk %",threshold:85,severity:"warning",enabled:!0},{id:6,name:"Disk Space Critical",metric:"Disk %",threshold:95,severity:"critical",enabled:!1}]);updateThreshold(l,r){let i=typeof r=="number"?r:typeof r=="string"?Number(r):NaN;Number.isNaN(i)||this.alertRules.update(s=>s.map(a=>a.id===l?f(y({},a),{threshold:i}):a))}toggleRule(l,r){this.alertRules.update(i=>i.map(s=>s.id===l?f(y({},s),{enabled:r}):s))}runQuickCommand(l){if(l==="ack"){this.lastCommand.set("Acknowledged all active alerts"),this.toast.success("Alerts acknowledged","All active alerts were acknowledged for triage.");return}if(l==="mute"){this.lastCommand.set("Muted paging for 10 minutes"),this.toast.warning("Paging muted","Alert paging is muted for 10 minutes.");return}if(l==="drill"){this.lastCommand.set("Started synthetic drill"),this.toast.show({title:"Synthetic drill",description:"Synthetic monitoring drill started across gateway and auth paths."});return}this.lastCommand.set("Sent status digest"),this.toast.success("Status digest sent","Ops status digest sent to stakeholders.")}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=M({type:m,selectors:[["app-demo-monitoring"]],decls:82,vars:6,consts:[[1,"p-6","space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","tracking-tight"],[1,"flex","items-center","gap-2"],[3,"pressedChange","pressed"],[1,"size-4",3,"icon"],[1,"bg-primary","text-primary-foreground","shadow-xs","hover:bg-primary/90"],[1,"space-y-4"],["command","","placeholder","Run monitoring command...",3,"valueChange","value"],["heading","Incident Actions"],["value","acknowledge active alerts",3,"click"],["value","mute paging",3,"click"],["heading","Operations"],["value","run synthetic drill",3,"click"],["value","send status digest",3,"click"],[1,"border","bg-background","text-foreground"],[1,"text-sm","text-muted-foreground"],[1,"space-y-3"],[1,"text-lg","font-semibold"],[1,"border-destructive/50","text-destructive"],[1,"font-medium"],[1,"flex","items-center","gap-4","min-w-[200px]"],[1,"flex-1",3,"valueChange","value","min","max","step"],[1,"text-sm","w-12"],[3,"checkedChange","checked"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Monitoring"),t(),e(4,"div",3)(5,"sng-toggle",4),_("pressedChange",function(a){return S(i.autoRefresh,a)||(i.autoRefresh=a),a}),u(6,"sng-icon",5),t(),e(7,"sng-toggle",4),_("pressedChange",function(a){return S(i.soundEnabled,a)||(i.soundEnabled=a),a}),u(8,"sng-icon",5),t(),e(9,"sng-button",6),n(10,"Add Alert Rule"),t()()(),e(11,"sng-card")(12,"sng-card-header")(13,"sng-card-title"),n(14,"Ops Quick Command"),t(),e(15,"sng-card-description"),n(16,"Trigger monitoring actions from one command surface."),t()(),e(17,"sng-card-content",7)(18,"sng-search-input",8),_("valueChange",function(a){return S(i.commandQuery,a)||(i.commandQuery=a),a}),e(19,"sng-search-input-list")(20,"sng-search-input-empty"),n(21,"No matching command."),t(),e(22,"sng-search-input-group",9)(23,"sng-search-input-item",10),d("click",function(){return i.runQuickCommand("ack")}),n(24," Acknowledge active alerts "),e(25,"sng-search-input-shortcut"),n(26,"\u2318A"),t()(),e(27,"sng-search-input-item",11),d("click",function(){return i.runQuickCommand("mute")}),n(28," Mute paging for 10 minutes "),e(29,"sng-search-input-shortcut"),n(30,"\u2318M"),t()()(),u(31,"sng-search-input-separator"),e(32,"sng-search-input-group",12)(33,"sng-search-input-item",13),d("click",function(){return i.runQuickCommand("drill")}),n(34," Run synthetic drill "),e(35,"sng-search-input-shortcut"),n(36,"\u2318D"),t()(),e(37,"sng-search-input-item",14),d("click",function(){return i.runQuickCommand("status")}),n(38," Send status digest "),e(39,"sng-search-input-shortcut"),n(40,"\u2318S"),t()()()()(),e(41,"div",3)(42,"sng-badge",15),n(43,"Last command"),t(),e(44,"span",16),n(45),t()()()(),e(46,"div",17)(47,"h2",18),n(48,"Active Alerts"),t(),e(49,"sng-alert",19)(50,"sng-alert-title"),n(51,"Critical: prod-cache-01 Down"),t(),e(52,"sng-alert-description"),n(53," Server has been unresponsive for 15 minutes. Last ping failed at 14:32 UTC. "),t()(),e(54,"sng-alert")(55,"sng-alert-title"),n(56,"Warning: High Memory on prod-db-01"),t(),e(57,"sng-alert-description"),n(58," Memory usage at 89%, exceeds threshold of 80%. Consider scaling. "),t()()(),e(59,"sng-card")(60,"sng-card-header")(61,"sng-card-title"),n(62,"Alert Rules"),t(),e(63,"sng-card-description"),n(64,"Configure thresholds for automated alerts"),t()(),e(65,"sng-card-content")(66,"sng-table")(67,"sng-table-header")(68,"sng-table-row")(69,"sng-table-head"),n(70,"Rule"),t(),e(71,"sng-table-head"),n(72,"Metric"),t(),e(73,"sng-table-head"),n(74,"Threshold"),t(),e(75,"sng-table-head"),n(76,"Severity"),t(),e(77,"sng-table-head"),n(78,"Enabled"),t()()(),e(79,"sng-table-body"),R(80,de,15,11,"sng-table-row",null,le),t()()()()()),r&2&&(o(5),h("pressed",i.autoRefresh),o(),c("icon",i.refreshDoubleRegularIcon),o(),h("pressed",i.soundEnabled),o(),c("icon",i.soundHighRegularIcon),o(10),h("value",i.commandQuery),o(27),p(i.lastCommand()),o(35),T(i.alertRules()))},dependencies:[J,K,X,Y,Z,ee,te,ne,ie,re,ae,V,N,G,q,Q,H,W,z,U,L,B,P,F,j,O,se],encapsulation:2,changeDetection:0})};export{oe as DemoMonitoringComponent};
