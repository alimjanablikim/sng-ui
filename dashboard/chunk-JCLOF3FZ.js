import{L as W,R as G,S as O,W as $,a as P,c as H,ea as J,f as F}from"./chunk-RMUS6ZDN.js";import{G as N,H as L,a as z,o as A,qb as V,rb as j,sb as B}from"./chunk-P7Z2BY5T.js";import{$ as b,Aa as d,B as p,Ba as m,Ga as k,Ha as E,Ia as T,N as i,Na as S,T as R,_ as y,ba as M,ca as I,da as c,ea as a,fa as o,ga as u,la as D,na as v,pa as g,r as x,s as C,xa as _}from"./chunk-V3OY2GMA.js";import{a as h,b as f}from"./chunk-2NFLSA4Y.js";var K=(r,t)=>t.id;function U(r,t){r&1&&u(0,"span",20)}function Q(r,t){if(r&1&&(a(0,"span",26),d(1),o()),r&2){let e=g().$implicit;i(),m(e.unread)}}function X(r,t){if(r&1){let e=D();a(0,"button",17),v("click",function(){let s=x(e).$implicit,l=g();return C(l.selectContact(s.id))}),a(1,"div",18)(2,"sng-avatar",19)(3,"sng-avatar-fallback"),d(4),o()(),y(5,U,1,0,"span",20),o(),a(6,"div",21)(7,"div",22)(8,"p",23),d(9),o(),a(10,"span",24),d(11),o()(),a(12,"p",25),d(13),o()(),y(14,Q,2,1,"span",26),o()}if(r&2){let e=t.$implicit,n=g();_("bg-muted",n.selectedContactId()===e.id),i(4),m(n.getInitials(e.name)),i(),b(e.online?5:-1),i(4),m(e.name),i(2),m(e.time),i(2),m(e.lastMessage),i(),b(e.unread?14:-1)}}function Z(r,t){r&1&&(a(0,"div",12),d(1,"No chats found."),o())}function ee(r,t){if(r&1&&(a(0,"div",41)(1,"div",42)(2,"p",43),d(3),o(),a(4,"p",44),d(5),o()()()),r&2){let e=t.$implicit;_("justify-end",e.sender==="me"),i(),_("bg-primary",e.sender==="me")("text-primary-foreground",e.sender==="me")("bg-muted",e.sender==="other"),i(2),m(e.content),i(),_("text-primary-foreground/70",e.sender==="me")("text-muted-foreground",e.sender==="other"),i(),m(e.time)}}function te(r,t){if(r&1){let e=D();a(0,"div",15)(1,"div",27)(2,"div",28)(3,"sng-avatar",19)(4,"sng-avatar-fallback"),d(5),o()(),a(6,"div")(7,"p",29),d(8),o(),a(9,"p",30),d(10),o()()(),a(11,"div",31)(12,"sng-button",32),u(13,"sng-icon",8),o(),a(14,"sng-button",32),u(15,"sng-icon",8),o(),a(16,"sng-button",32),u(17,"sng-icon",8),o()()(),a(18,"div",33),M(19,ee,6,14,"div",34,K),o(),a(21,"div",35)(22,"div",36)(23,"sng-button",37),u(24,"sng-icon",38),o(),a(25,"sng-input",39),T("valueChange",function(s){x(e);let l=g();return E(l.draftMessage,s)||(l.draftMessage=s),C(s)}),v("keydown.enter",function(){x(e);let s=g();return C(s.sendMessage())}),o(),a(26,"sng-button",40),v("click",function(){x(e);let s=g();return C(s.sendMessage())}),u(27,"sng-icon",38),o()()()()}if(r&2){let e=t,n=g();i(5),m(n.getInitials(e.name)),i(3),m(e.name),i(2),m(e.online?"Online":"Offline"),i(3),c("icon",n.phoneRegularIcon),i(2),c("icon",n.videoCameraRegularIcon),i(2),c("icon",n.moreVertRegularIcon),i(2),I(n.currentMessages()),i(5),c("icon",n.attachmentRegularIcon),i(),k("value",n.draftMessage),i(2),c("icon",n.sendRegularIcon)}}function ne(r,t){if(r&1&&(a(0,"div",16)(1,"div",45),u(2,"sng-icon",46),a(3,"p",47),d(4,"Select a chat"),o(),a(5,"p",43),d(6,"Choose a conversation from the list to start messaging"),o()()()),r&2){let e=g();i(2),c("icon",e.chatBubbleRegularIcon)}}var Y=[{id:"1",name:"Olivia Martin",lastMessage:"Hey! How are you doing?",time:"2m",online:!0,unread:3},{id:"2",name:"Jackson Lee",lastMessage:"The meeting is at 3pm",time:"15m",online:!0},{id:"3",name:"Isabella Nguyen",lastMessage:"Thanks for the help!",time:"1h",online:!1},{id:"4",name:"William Kim",lastMessage:"Can you review the PR?",time:"2h",online:!0},{id:"5",name:"Sofia Davis",lastMessage:"See you tomorrow!",time:"3h",online:!1},{id:"6",name:"James Wilson",lastMessage:"Great work on the project",time:"5h",online:!1},{id:"7",name:"Emma Thompson",lastMessage:"Let me know when you are free",time:"1d",online:!1},{id:"8",name:"Lucas Martinez",lastMessage:"I'll send the files later",time:"2d",online:!1}],ie={1:[{id:"1",sender:"other",content:"Hey! How are you doing?",time:"10:30 AM"},{id:"2",sender:"me",content:"Hi! I'm doing great, thanks for asking. How about you?",time:"10:32 AM"},{id:"3",sender:"other",content:"I'm good too! Just finished the design review for the new dashboard.",time:"10:33 AM"},{id:"4",sender:"me",content:"That's awesome! Can't wait to see the updates.",time:"10:35 AM"},{id:"5",sender:"other",content:"I'll share the Figma link with you in a bit. Also, are you free for a quick call later?",time:"10:36 AM"},{id:"6",sender:"me",content:"Sure! I have some time after 2pm. Does that work for you?",time:"10:38 AM"},{id:"7",sender:"other",content:"Perfect! Let's do 2:30pm then. I'll send you a calendar invite.",time:"10:39 AM"},{id:"8",sender:"me",content:"Sounds good! Talk to you then \u{1F44D}",time:"10:40 AM"}],2:[{id:"9",sender:"other",content:"The meeting is at 3pm. Can you join?",time:"11:05 AM"},{id:"10",sender:"me",content:"Yes, I can make it.",time:"11:08 AM"}],3:[{id:"11",sender:"other",content:"Thanks for the help!",time:"9:15 AM"}],4:[{id:"12",sender:"other",content:"Can you review the PR?",time:"8:40 AM"}],5:[{id:"13",sender:"other",content:"See you tomorrow!",time:"Yesterday"}],6:[{id:"14",sender:"other",content:"Great work on the project",time:"Yesterday"}],7:[{id:"15",sender:"other",content:"Let me know when you are free",time:"Mon"}],8:[{id:"16",sender:"other",content:"I'll send the files later",time:"Sun"}]},q=class r{plusRegularIcon=O;phoneRegularIcon=G;videoCameraRegularIcon=J;moreVertRegularIcon=W;attachmentRegularIcon=H;sendRegularIcon=$;chatBubbleRegularIcon=F;contacts=p(Y);selectedContactId=p(Y[0]?.id??null);messagesByContact=p(ie);chatSearch=p("");draftMessage=p("");nextMessageId=p(100);nextContactId=p(1e3);filteredContacts=S(()=>{let t=this.chatSearch().trim().toLowerCase();return t?this.contacts().filter(e=>e.name.toLowerCase().includes(t)||e.lastMessage.toLowerCase().includes(t)):this.contacts()});selectedContact=S(()=>{let t=this.selectedContactId();return t?this.contacts().find(e=>e.id===t)??null:null});currentMessages=S(()=>{let t=this.selectedContactId();return t?this.messagesByContact()[t]??[]:[]});getInitials(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase()}selectContact(t){this.selectedContactId.set(t),this.contacts.update(e=>e.map(n=>n.id===t?f(h({},n),{unread:0}):n))}createDraftChat(){let t=String(this.nextContactId());this.nextContactId.update(n=>n+1);let e={id:t,name:`New Contact ${t}`,lastMessage:"Start a conversation...",time:"now",online:!0,unread:0};this.contacts.update(n=>[e,...n]),this.messagesByContact.update(n=>f(h({},n),{[t]:[]})),this.selectedContactId.set(t),this.draftMessage.set("")}sendMessage(){let t=this.selectedContactId(),e=this.draftMessage().trim();if(!t||!e)return;let n=String(this.nextMessageId());this.nextMessageId.update(l=>l+1);let s={id:n,sender:"me",content:e,time:this.nowTimeLabel()};this.messagesByContact.update(l=>f(h({},l),{[t]:[...l[t]??[],s]})),this.contacts.update(l=>l.map(w=>w.id===t?f(h({},w),{lastMessage:e,time:"now",unread:0}):w)),this.draftMessage.set("")}nowTimeLabel(){let t=new Date,e=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0");return`${e}:${n}`}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=R({type:r,selectors:[["app-demo-chats"]],decls:19,vars:9,consts:[[1,"flex","h-[calc(100vh-60px)]","flex-col"],["direction","horizontal",1,"flex-1"],[3,"defaultSize","minSize","maxSize"],[1,"flex","h-full","flex-col","border-r"],[1,"border-b","p-4"],[1,"mb-4","flex","items-center","justify-between"],[1,"text-lg","font-semibold"],[1,"h-8","w-8","p-0","hover:bg-accent","hover:text-accent-foreground",3,"click"],[1,"size-4",3,"icon"],["placeholder","Search chats...",1,"h-8",3,"valueChange","value"],[1,"flex-1","overflow-auto"],[1,"w-full","text-left","flex","items-center","gap-3","p-3","transition-colors","hover:bg-muted/50",3,"bg-muted"],[1,"p-4","text-sm","text-muted-foreground"],[3,"withHandle"],[3,"defaultSize"],[1,"flex","h-full","flex-col"],[1,"flex","h-full","items-center","justify-center","text-muted-foreground"],[1,"w-full","text-left","flex","items-center","gap-3","p-3","transition-colors","hover:bg-muted/50",3,"click"],[1,"relative"],[1,"size-10"],[1,"absolute","bottom-0","right-0","size-3","rounded-full","border-2","border-background","bg-green-500"],[1,"min-w-0","flex-1"],[1,"flex","items-center","justify-between"],[1,"truncate","font-medium"],[1,"text-xs","text-muted-foreground"],[1,"truncate","text-sm","text-muted-foreground"],[1,"flex","size-5","items-center","justify-center","rounded-full","bg-primary","text-xs","text-primary-foreground"],[1,"flex","items-center","justify-between","border-b","p-4"],[1,"flex","items-center","gap-3"],[1,"font-medium"],[1,"text-sm","text-muted-foreground"],[1,"flex","items-center","gap-1"],[1,"h-8","w-8","p-0","hover:bg-accent","hover:text-accent-foreground"],[1,"flex-1","overflow-auto","space-y-4","p-4"],[1,"flex",3,"justify-end"],[1,"border-t","p-4"],[1,"flex","items-center","gap-2"],[1,"h-9","w-9","p-0","hover:bg-accent","hover:text-accent-foreground"],[1,"size-5",3,"icon"],["placeholder","Type a message...",1,"flex-1",3,"valueChange","keydown.enter","value"],[1,"h-9","w-9","p-0",3,"click"],[1,"flex"],[1,"max-w-[70%]","rounded-lg","px-4","py-2"],[1,"text-sm"],[1,"mt-1","text-xs"],[1,"space-y-2","text-center"],[1,"mx-auto","size-12","text-muted-foreground/50",3,"icon"],[1,"text-lg","font-medium"]],template:function(e,n){if(e&1&&(a(0,"div",0)(1,"sng-resizable-group",1)(2,"sng-resizable-panel",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),d(7,"Chats"),o(),a(8,"sng-button",7),v("click",function(){return n.createDraftChat()}),u(9,"sng-icon",8),o()(),a(10,"sng-input",9),T("valueChange",function(l){return E(n.chatSearch,l)||(n.chatSearch=l),l}),o()(),a(11,"div",10),M(12,X,15,8,"button",11,K,!1,Z,2,0,"div",12),o()()(),u(15,"sng-resizable-handle",13),a(16,"sng-resizable-panel",14),y(17,te,28,9,"div",15)(18,ne,7,1,"div",16),o()()()),e&2){let s;i(2),c("defaultSize",30)("minSize",20)("maxSize",40),i(7),c("icon",n.plusRegularIcon),i(),k("value",n.chatSearch),i(2),I(n.filteredContacts()),i(3),c("withHandle",!0),i(),c("defaultSize",70),i(),b((s=n.selectedContact())?17:18,s)}},dependencies:[P,z,A,N,L,j,V,B],encapsulation:2,changeDetection:0})};export{q as DemoChatsComponent};
