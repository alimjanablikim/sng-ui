"use strict";(self.webpackChunksng_app=self.webpackChunksng_app||[]).push([[7071],{7071(k,p,c){c.d(p,{DemoUsersComponent:()=>j});var a=c(375),d=c(7017),m=c(2712),i=c(2488),e=c(5547);const h=()=>[10,20,30,50],v=(g,u)=>u.id;function b(g,u){if(1&g){const t=e.RV6();e.j41(0,"sng-dialog-content",31)(1,"sng-dialog-header")(2,"sng-dialog-title"),e.EFF(3,"Add New User"),e.k0s(),e.j41(4,"sng-dialog-description"),e.EFF(5,"Fill in the details to create a new user account."),e.k0s()(),e.j41(6,"div",32)(7,"div",33)(8,"label",34),e.EFF(9,"Name"),e.k0s(),e.j41(10,"sng-input",35),e.mxI("valueChange",function(s){a.eBV(t);const r=e.XpG();return e.DH7(r.newUserName,s)||(r.newUserName=s),a.Njj(s)}),e.k0s()(),e.j41(11,"div",33)(12,"label",34),e.EFF(13,"Email"),e.k0s(),e.j41(14,"sng-input",36),e.mxI("valueChange",function(s){a.eBV(t);const r=e.XpG();return e.DH7(r.newUserEmail,s)||(r.newUserEmail=s),a.Njj(s)}),e.k0s()(),e.j41(15,"div",33)(16,"label",34),e.EFF(17,"Role"),e.k0s(),e.j41(18,"sng-select",37),e.bIt("valueChange",function(s){a.eBV(t);const r=e.XpG();return a.Njj(r.setNewUserRole(s))}),e.j41(19,"sng-select-item",18),e.EFF(20,"Admin"),e.k0s(),e.j41(21,"sng-select-item",19),e.EFF(22,"Moderator"),e.k0s(),e.j41(23,"sng-select-item",20),e.EFF(24,"Editor"),e.k0s(),e.j41(25,"sng-select-item",21),e.EFF(26,"User"),e.k0s()()()(),e.j41(27,"sng-dialog-footer")(28,"sng-button",38),e.bIt("click",function(){a.eBV(t),e.XpG();const s=e.sdS(8);return a.Njj(s.close())}),e.EFF(29,"Cancel"),e.k0s(),e.j41(30,"sng-button",6),e.bIt("click",function(){a.eBV(t);const s=e.XpG(),r=e.sdS(8);return a.Njj(s.createUser(r))}),e.EFF(31,"Create User"),e.k0s()()()}if(2&g){const t=e.XpG();e.R7$(10),e.R50("value",t.newUserName),e.R7$(4),e.R50("value",t.newUserEmail),e.R7$(4),e.Y8G("value",t.newUserRole())}}function F(g,u){if(1&g){const t=e.RV6();e.j41(0,"sng-table-row",28)(1,"sng-table-cell")(2,"sng-checkbox",39),e.bIt("checkedChange",function(){const s=a.eBV(t).$implicit,r=e.XpG();return a.Njj(r.toggleSelection(s.id))}),e.k0s()(),e.j41(3,"sng-table-cell")(4,"div",40)(5,"sng-avatar",41)(6,"sng-avatar-fallback"),e.EFF(7),e.k0s()(),e.j41(8,"div")(9,"p",42),e.EFF(10),e.k0s(),e.j41(11,"p",29),e.EFF(12),e.k0s()()()(),e.j41(13,"sng-table-cell")(14,"sng-badge"),e.EFF(15),e.k0s()(),e.j41(16,"sng-table-cell")(17,"div",14),e.nrm(18,"span",43),e.j41(19,"span",44),e.EFF(20),e.k0s()()(),e.j41(21,"sng-table-cell")(22,"sng-menu")(23,"sng-button",45),e.nrm(24,"sng-icon",46),e.k0s(),e.j41(25,"sng-menu-label"),e.EFF(26,"Actions"),e.k0s(),e.j41(27,"sng-menu-item",47),e.bIt("click",function(){const s=a.eBV(t).$implicit,r=e.XpG();return a.Njj(r.viewDetails(s))}),e.EFF(28,"View Details"),e.k0s(),e.j41(29,"sng-menu-item",47),e.bIt("click",function(){const s=a.eBV(t).$implicit,r=e.XpG();return a.Njj(r.cycleRole(s.id))}),e.EFF(30,"Edit User"),e.k0s(),e.j41(31,"sng-menu-item",47),e.bIt("click",function(){const s=a.eBV(t).$implicit,r=e.XpG();return a.Njj(r.resetPassword(s))}),e.EFF(32,"Reset Password"),e.k0s(),e.nrm(33,"sng-menu-separator"),e.j41(34,"sng-menu-item",48),e.bIt("click",function(){const s=a.eBV(t).$implicit,r=e.XpG();return a.Njj(r.deleteUser(s.id))}),e.EFF(35,"Delete User"),e.k0s()()()()}if(2&g){const t=u.$implicit,n=e.XpG();e.Y8G("selected",n.isSelected(t.id)),e.R7$(2),e.Y8G("checked",n.isSelected(t.id)),e.R7$(5),e.JRh(n.getInitials(t.name)),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.HbH(n.getRoleClasses(t.role)+" capitalize"),e.R7$(),e.JRh(t.role),e.R7$(3),e.HbH(n.getStatusColor(t.status)),e.R7$(2),e.JRh(t.status),e.R7$(4),e.Y8G("icon",n.moreVertRegularIcon)}}function U(g,u){1&g&&(e.j41(0,"sng-table-row")(1,"sng-table-cell",49),e.EFF(2,"No users match the current filters."),e.k0s()())}let j=(()=>{class g{userPlusRegularIcon=m.userPlusRegular;downloadRegularIcon=m.downloadRegular;moreVertRegularIcon=m.moreVertRegular;toast=(0,a.WQX)(i.XMw);users=(0,a.vPA)([{id:"1",name:"Olivia Martin",email:"olivia.martin@email.com",role:"admin",status:"active"},{id:"2",name:"Jackson Lee",email:"jackson.lee@email.com",role:"editor",status:"active"},{id:"3",name:"Isabella Nguyen",email:"isabella.nguyen@email.com",role:"user",status:"pending"},{id:"4",name:"William Kim",email:"will@email.com",role:"moderator",status:"active"},{id:"5",name:"Sofia Davis",email:"sofia.davis@email.com",role:"user",status:"inactive"},{id:"6",name:"James Wilson",email:"james.wilson@email.com",role:"editor",status:"active"},{id:"7",name:"Emma Thompson",email:"emma.thompson@email.com",role:"user",status:"active"},{id:"8",name:"Lucas Martinez",email:"lucas.martinez@email.com",role:"user",status:"pending"},{id:"9",name:"Mia Anderson",email:"mia.anderson@email.com",role:"moderator",status:"active"},{id:"10",name:"Noah Taylor",email:"noah.taylor@email.com",role:"user",status:"inactive"},{id:"11",name:"Ava Brown",email:"ava.brown@email.com",role:"editor",status:"active"},{id:"12",name:"Ethan Garcia",email:"ethan.garcia@email.com",role:"user",status:"active"}]);nextUserId=(0,a.vPA)(13);pageIndex=(0,a.vPA)(0);pageSize=(0,a.vPA)(10);selectedUsers=(0,a.vPA)(new Set);statusFilter=(0,a.vPA)("all");roleFilter=(0,a.vPA)("all");searchQuery=(0,a.vPA)("");newUserName=(0,a.vPA)("");newUserEmail=(0,a.vPA)("");newUserRole=(0,a.vPA)("user");filteredUsers=(0,d.EW)(()=>{const t=this.statusFilter(),n=this.roleFilter(),s=this.searchQuery().trim().toLowerCase();return this.users().filter(r=>!("all"!==t&&r.status!==t||"all"!==n&&r.role!==n)&&(!s||r.name.toLowerCase().includes(s)||r.email.toLowerCase().includes(s)))});pageCount=(0,d.EW)(()=>Math.max(1,Math.ceil(this.filteredUsers().length/this.pageSize())));paginatedUsers=(0,d.EW)(()=>{const t=this.pageIndex()*this.pageSize(),n=t+this.pageSize();return this.filteredUsers().slice(t,n)});allSelected=(0,d.EW)(()=>{const t=this.paginatedUsers();return t.length>0&&t.every(n=>this.selectedUsers().has(n.id))});someSelected=(0,d.EW)(()=>{const t=this.paginatedUsers(),n=this.selectedUsers(),s=t.filter(r=>n.has(r.id)).length;return s>0&&s<t.length});constructor(){(0,a.QZP)(()=>{const t=Math.max(0,this.pageCount()-1);this.pageIndex()>t&&this.pageIndex.set(t)})}getInitials(t){return t.split(" ").map(n=>n[0]).join("").toUpperCase()}getRoleClasses(t){switch(t){case"admin":return"";case"moderator":return"bg-secondary text-secondary-foreground";default:return"bg-transparent text-foreground"}}getStatusColor(t){switch(t){case"active":return"bg-green-500";case"inactive":default:return"bg-gray-400";case"pending":return"bg-yellow-500"}}countByStatus(t){return this.users().filter(n=>n.status===t).length}setStatusFilter(t){this.statusFilter.set(t),this.pageIndex.set(0)}setRoleFilter(t){const n="string"==typeof t?t:"all";("admin"===n||"moderator"===n||"editor"===n||"user"===n||"all"===n)&&(this.roleFilter.set(n),this.pageIndex.set(0))}setNewUserRole(t){const n="string"==typeof t?t:"user";("admin"===n||"moderator"===n||"editor"===n||"user"===n)&&this.newUserRole.set(n)}createUser(t){const n=this.newUserName().trim(),s=this.newUserEmail().trim();if(!n||!s||!s.includes("@"))return void this.toast.warning("User not created","Enter a valid name and email address.");const r=String(this.nextUserId());this.nextUserId.update(o=>o+1),this.users.update(o=>[{id:r,name:n,email:s,role:this.newUserRole(),status:"pending"},...o]),this.newUserName.set(""),this.newUserEmail.set(""),this.newUserRole.set("user"),this.pageIndex.set(0),this.toast.success("User created",`${n} was added with pending status.`),t.close()}viewDetails(t){this.toast.show({title:`${t.name}`,description:`${t.email} \u2022 ${t.role} \u2022 ${t.status}`})}cycleRole(t){const n=["user","editor","moderator","admin"];let s="",r="user";this.users.update(o=>o.map(l=>{if(l.id!==t)return l;const _=n.indexOf(l.role);return r=n[(_+1)%n.length],s=l.name,{...l,role:r}})),s&&this.toast.success("Role updated",`${s} is now ${r}.`)}resetPassword(t){this.toast.show({title:"Reset email sent",description:`Password reset link sent to ${t.email}.`})}deleteUser(t){const n=this.users().find(r=>r.id===t);if(!n)return;this.users.update(r=>r.filter(o=>o.id!==t));const s=new Set(this.selectedUsers());s.delete(t),this.selectedUsers.set(s),this.toast.warning("User deleted",`${n.name} was removed from the workspace.`)}exportCurrentView(){this.toast.show({title:"Export started",description:`${this.filteredUsers().length} users are being exported.`})}isSelected(t){return this.selectedUsers().has(t)}toggleSelection(t){const n=new Set(this.selectedUsers());n.has(t)?n.delete(t):n.add(t),this.selectedUsers.set(n)}toggleAll(t){if(t){const s=new Set(this.selectedUsers());return this.paginatedUsers().forEach(r=>s.add(r.id)),void this.selectedUsers.set(s)}const n=new Set(this.selectedUsers());this.paginatedUsers().forEach(s=>n.delete(s.id)),this.selectedUsers.set(n)}goToFirstPage(){this.pageIndex.set(0)}goToPreviousPage(){this.pageIndex.update(t=>Math.max(0,t-1))}goToNextPage(){this.pageIndex.update(t=>Math.min(this.pageCount()-1,t+1))}goToLastPage(){this.pageIndex.set(this.pageCount()-1)}setPageSize(t){this.pageSize.set(t),this.pageIndex.set(0)}static \u0275fac=function(n){return new(n||g)};static \u0275cmp=e.VBU({type:g,selectors:[["app-demo-users"]],decls:70,vars:22,consts:[["addUserDialog",""],["addUserContent",""],[1,"space-y-6","p-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","tracking-tight"],[1,"text-muted-foreground"],[1,"bg-primary","text-primary-foreground","shadow-xs","hover:bg-primary/90",3,"click"],[1,"mr-2","size-4",3,"icon"],[3,"defaultValue"],["value","all",3,"click"],[1,"ml-2","bg-secondary","text-secondary-foreground"],["value","active",3,"click"],["value","inactive",3,"click"],["value","pending",3,"click"],[1,"flex","items-center","gap-2"],["placeholder","Search users...",1,"h-8","w-[250px]",3,"valueChange","value"],["placeholder","Role",1,"w-[160px]",3,"valueChange","value"],["value","all"],["value","admin"],["value","moderator"],["value","editor"],["value","user"],[1,"ml-auto","h-8","border","bg-background","px-3","text-xs","shadow-xs","hover:bg-accent","hover:text-accent-foreground",3,"click"],[1,"rounded-md","border"],[1,"w-[40px]"],[3,"checkedChange","checked","indeterminate"],[1,"w-[120px]"],[1,"w-[100px]"],[3,"selected"],[1,"text-sm","text-muted-foreground"],[3,"firstPage","previousPage","nextPage","lastPage","pageSizeChange","pageIndex","pageCount","pageSize","pageSizeOptions","canPreviousPage","canNextPage"],[1,"sm:max-w-[425px]"],[1,"grid","gap-4","py-4"],[1,"grid","grid-cols-4","items-center","gap-4"],[1,"text-right","text-sm"],["placeholder","John Doe",1,"col-span-3",3,"valueChange","value"],["placeholder","john@example.com",1,"col-span-3",3,"valueChange","value"],["placeholder","Select role",1,"col-span-3",3,"valueChange","value"],[1,"border","bg-background","shadow-xs","hover:bg-accent","hover:text-accent-foreground",3,"click"],[3,"checkedChange","checked"],[1,"flex","items-center","gap-3"],[1,"size-8"],[1,"font-medium"],[1,"size-2","rounded-full"],[1,"capitalize"],["sng-menu-trigger","",1,"h-8","w-8","p-0","hover:bg-accent","hover:text-accent-foreground"],[1,"size-4",3,"icon"],[3,"click"],[1,"text-destructive",3,"click"],["colspan","5",1,"h-24","text-center","text-sm","text-muted-foreground"]],template:function(n,s){if(1&n){const r=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div")(3,"h1",4),e.EFF(4,"Users"),e.k0s(),e.j41(5,"p",5),e.EFF(6,"Manage all users and their roles"),e.k0s()(),e.j41(7,"sng-dialog",null,0)(9,"sng-button",6),e.bIt("click",function(){a.eBV(r);const l=e.sdS(8),_=e.sdS(13);return a.Njj(l.open(_))}),e.nrm(10,"sng-icon",7),e.EFF(11," Add User "),e.k0s(),e.DNE(12,b,32,3,"ng-template",null,1,e.C5r),e.k0s()(),e.j41(14,"sng-tabs",8)(15,"div",3)(16,"sng-tabs-list")(17,"sng-tabs-trigger",9),e.bIt("click",function(){return a.eBV(r),a.Njj(s.setStatusFilter("all"))}),e.EFF(18,"All Users "),e.j41(19,"sng-badge",10),e.EFF(20),e.k0s()(),e.j41(21,"sng-tabs-trigger",11),e.bIt("click",function(){return a.eBV(r),a.Njj(s.setStatusFilter("active"))}),e.EFF(22,"Active "),e.j41(23,"sng-badge",10),e.EFF(24),e.k0s()(),e.j41(25,"sng-tabs-trigger",12),e.bIt("click",function(){return a.eBV(r),a.Njj(s.setStatusFilter("inactive"))}),e.EFF(26,"Inactive "),e.j41(27,"sng-badge",10),e.EFF(28),e.k0s()(),e.j41(29,"sng-tabs-trigger",13),e.bIt("click",function(){return a.eBV(r),a.Njj(s.setStatusFilter("pending"))}),e.EFF(30,"Pending "),e.j41(31,"sng-badge",10),e.EFF(32),e.k0s()()()()(),e.j41(33,"div",14)(34,"sng-input",15),e.mxI("valueChange",function(l){return a.eBV(r),e.DH7(s.searchQuery,l)||(s.searchQuery=l),a.Njj(l)}),e.k0s(),e.j41(35,"sng-select",16),e.bIt("valueChange",function(l){return a.eBV(r),a.Njj(s.setRoleFilter(l))}),e.j41(36,"sng-select-item",17),e.EFF(37,"All Roles"),e.k0s(),e.j41(38,"sng-select-item",18),e.EFF(39,"Admin"),e.k0s(),e.j41(40,"sng-select-item",19),e.EFF(41,"Moderator"),e.k0s(),e.j41(42,"sng-select-item",20),e.EFF(43,"Editor"),e.k0s(),e.j41(44,"sng-select-item",21),e.EFF(45,"User"),e.k0s()(),e.j41(46,"sng-button",22),e.bIt("click",function(){return a.eBV(r),a.Njj(s.exportCurrentView())}),e.nrm(47,"sng-icon",7),e.EFF(48," Export "),e.k0s()(),e.j41(49,"div",23)(50,"sng-table")(51,"sng-table-header")(52,"sng-table-row")(53,"sng-table-head",24)(54,"sng-checkbox",25),e.bIt("checkedChange",function(l){return a.eBV(r),a.Njj(s.toggleAll(l))}),e.k0s()(),e.j41(55,"sng-table-head"),e.EFF(56,"User"),e.k0s(),e.j41(57,"sng-table-head",26),e.EFF(58,"Role"),e.k0s(),e.j41(59,"sng-table-head",27),e.EFF(60,"Status"),e.k0s(),e.nrm(61,"sng-table-head",24),e.k0s()(),e.j41(62,"sng-table-body"),e.Z7z(63,F,36,12,"sng-table-row",28,v,!1,U,3,0,"sng-table-row"),e.k0s()()(),e.j41(66,"div",3)(67,"p",29),e.EFF(68),e.k0s(),e.j41(69,"sng-table-pagination",30),e.bIt("firstPage",function(){return a.eBV(r),a.Njj(s.goToFirstPage())})("previousPage",function(){return a.eBV(r),a.Njj(s.goToPreviousPage())})("nextPage",function(){return a.eBV(r),a.Njj(s.goToNextPage())})("lastPage",function(){return a.eBV(r),a.Njj(s.goToLastPage())})("pageSizeChange",function(l){return a.eBV(r),a.Njj(s.setPageSize(l))}),e.k0s()()()}2&n&&(e.R7$(10),e.Y8G("icon",s.userPlusRegularIcon),e.R7$(4),e.Y8G("defaultValue",s.statusFilter()),e.R7$(6),e.JRh(s.users().length),e.R7$(4),e.JRh(s.countByStatus("active")),e.R7$(4),e.JRh(s.countByStatus("inactive")),e.R7$(4),e.JRh(s.countByStatus("pending")),e.R7$(2),e.R50("value",s.searchQuery),e.R7$(),e.Y8G("value",s.roleFilter()),e.R7$(12),e.Y8G("icon",s.downloadRegularIcon),e.R7$(7),e.Y8G("checked",s.allSelected())("indeterminate",s.someSelected()),e.R7$(9),e.Dyx(s.paginatedUsers()),e.R7$(5),e.E5c(" ",s.selectedUsers().size," selected \u2022 ",s.filteredUsers().length," shown of ",s.users().length," users. "),e.R7$(),e.Y8G("pageIndex",s.pageIndex())("pageCount",s.pageCount())("pageSize",s.pageSize())("pageSizeOptions",e.lJ4(21,h))("canPreviousPage",s.pageIndex()>0)("canNextPage",s.pageIndex()<s.pageCount()-1))},dependencies:[i.F8E,i.tpA,i.oXZ,i.gT2,i.cz9,i.GVP,i.X8J,i.oS7,i.n2A,i.PZk,i.FA0,i.VDd,i.Zdt,i.r$r,i.dA1,i.$0p,i.axH,i.tUo,i.BeL,i.s$K,i.HP8,i.GL8,i.IHN,i.PN8,i.fTd,i.KxQ,i.XB6,i.G9O,m.SngIcon],encapsulation:2,changeDetection:0})}return g})()}}]);