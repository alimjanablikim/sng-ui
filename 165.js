"use strict";(self.webpackChunksng_app=self.webpackChunksng_app||[]).push([[165],{165(_,u,g){g.d(u,{DemoMonitoringComponent:()=>p});var o=g(375),d=g(2712),n=g(2488),e=g(5547);const m=(l,c)=>c.id;function h(l,c){if(1&l){const s=e.RV6();e.j41(0,"sng-table-row")(1,"sng-table-cell",20),e.EFF(2),e.k0s(),e.j41(3,"sng-table-cell"),e.EFF(4),e.k0s(),e.j41(5,"sng-table-cell")(6,"div",21)(7,"sng-slider",22),e.bIt("valueChange",function(t){const a=o.eBV(s).$implicit,r=e.XpG();return o.Njj(r.updateThreshold(a.id,t))}),e.k0s(),e.j41(8,"span",23),e.EFF(9),e.k0s()()(),e.j41(10,"sng-table-cell")(11,"sng-badge"),e.EFF(12),e.k0s()(),e.j41(13,"sng-table-cell")(14,"sng-switch",24),e.bIt("checkedChange",function(t){const a=o.eBV(s).$implicit,r=e.XpG();return o.Njj(r.toggleRule(a.id,t))}),e.k0s()()()}if(2&l){const s=c.$implicit;e.R7$(2),e.JRh(s.name),e.R7$(2),e.JRh(s.metric),e.R7$(3),e.Y8G("value",s.threshold)("min",0)("max",100)("step",5),e.R7$(2),e.SpI("",s.threshold,"%"),e.R7$(2),e.HbH("critical"===s.severity?"bg-destructive text-white":"bg-secondary text-secondary-foreground"),e.R7$(),e.SpI(" ",s.severity," "),e.R7$(2),e.Y8G("checked",s.enabled)}}let p=(()=>{class l{refreshDoubleRegular=d.refreshDoubleRegular;soundHighRegular=d.soundHighRegular;toast=(0,o.WQX)(n.XMw);refreshDoubleRegularIcon=d.refreshDoubleRegular;soundHighRegularIcon=d.soundHighRegular;autoRefresh=(0,o.vPA)(!0);soundEnabled=(0,o.vPA)(!1);commandQuery=(0,o.vPA)("");lastCommand=(0,o.vPA)("No command executed yet");alertRules=(0,o.vPA)([{id:1,name:"High CPU Usage",metric:"CPU %",threshold:80,severity:"warning",enabled:!0},{id:2,name:"Critical CPU Usage",metric:"CPU %",threshold:95,severity:"critical",enabled:!0},{id:3,name:"High Memory Usage",metric:"Memory %",threshold:80,severity:"warning",enabled:!0},{id:4,name:"Critical Memory Usage",metric:"Memory %",threshold:95,severity:"critical",enabled:!0},{id:5,name:"Disk Space Low",metric:"Disk %",threshold:85,severity:"warning",enabled:!0},{id:6,name:"Disk Space Critical",metric:"Disk %",threshold:95,severity:"critical",enabled:!1}]);updateThreshold(s,i){const t="number"==typeof i?i:"string"==typeof i?Number(i):NaN;Number.isNaN(t)||this.alertRules.update(a=>a.map(r=>r.id===s?{...r,threshold:t}:r))}toggleRule(s,i){this.alertRules.update(t=>t.map(a=>a.id===s?{...a,enabled:i}:a))}runQuickCommand(s){return"ack"===s?(this.lastCommand.set("Acknowledged all active alerts"),void this.toast.success("Alerts acknowledged","All active alerts were acknowledged for triage.")):"mute"===s?(this.lastCommand.set("Muted paging for 10 minutes"),void this.toast.warning("Paging muted","Alert paging is muted for 10 minutes.")):"drill"===s?(this.lastCommand.set("Started synthetic drill"),void this.toast.show({title:"Synthetic drill",description:"Synthetic monitoring drill started across gateway and auth paths."})):(this.lastCommand.set("Sent status digest"),void this.toast.success("Status digest sent","Ops status digest sent to stakeholders."))}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=e.VBU({type:l,selectors:[["app-demo-monitoring"]],decls:82,vars:6,consts:[[1,"p-6","space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","tracking-tight"],[1,"flex","items-center","gap-2"],[3,"pressedChange","pressed"],[1,"size-4",3,"icon"],[1,"bg-primary","text-primary-foreground","shadow-xs","hover:bg-primary/90"],[1,"space-y-4"],["command","","placeholder","Run monitoring command...",3,"valueChange","value"],["heading","Incident Actions"],["value","acknowledge active alerts",3,"click"],["value","mute paging",3,"click"],["heading","Operations"],["value","run synthetic drill",3,"click"],["value","send status digest",3,"click"],[1,"border","bg-background","text-foreground"],[1,"text-sm","text-muted-foreground"],[1,"space-y-3"],[1,"text-lg","font-semibold"],[1,"border-destructive/50","text-destructive"],[1,"font-medium"],[1,"flex","items-center","gap-4","min-w-[200px]"],[1,"flex-1",3,"valueChange","value","min","max","step"],[1,"text-sm","w-12"],[3,"checkedChange","checked"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Monitoring"),e.k0s(),e.j41(4,"div",3)(5,"sng-toggle",4),e.mxI("pressedChange",function(r){return e.DH7(t.autoRefresh,r)||(t.autoRefresh=r),r}),e.nrm(6,"sng-icon",5),e.k0s(),e.j41(7,"sng-toggle",4),e.mxI("pressedChange",function(r){return e.DH7(t.soundEnabled,r)||(t.soundEnabled=r),r}),e.nrm(8,"sng-icon",5),e.k0s(),e.j41(9,"sng-button",6),e.EFF(10,"Add Alert Rule"),e.k0s()()(),e.j41(11,"sng-card")(12,"sng-card-header")(13,"sng-card-title"),e.EFF(14,"Ops Quick Command"),e.k0s(),e.j41(15,"sng-card-description"),e.EFF(16,"Trigger monitoring actions from one command surface."),e.k0s()(),e.j41(17,"sng-card-content",7)(18,"sng-search-input",8),e.mxI("valueChange",function(r){return e.DH7(t.commandQuery,r)||(t.commandQuery=r),r}),e.j41(19,"sng-search-input-list")(20,"sng-search-input-empty"),e.EFF(21,"No matching command."),e.k0s(),e.j41(22,"sng-search-input-group",9)(23,"sng-search-input-item",10),e.bIt("click",function(){return t.runQuickCommand("ack")}),e.EFF(24," Acknowledge active alerts "),e.j41(25,"sng-search-input-shortcut"),e.EFF(26,"\u2318A"),e.k0s()(),e.j41(27,"sng-search-input-item",11),e.bIt("click",function(){return t.runQuickCommand("mute")}),e.EFF(28," Mute paging for 10 minutes "),e.j41(29,"sng-search-input-shortcut"),e.EFF(30,"\u2318M"),e.k0s()()(),e.nrm(31,"sng-search-input-separator"),e.j41(32,"sng-search-input-group",12)(33,"sng-search-input-item",13),e.bIt("click",function(){return t.runQuickCommand("drill")}),e.EFF(34," Run synthetic drill "),e.j41(35,"sng-search-input-shortcut"),e.EFF(36,"\u2318D"),e.k0s()(),e.j41(37,"sng-search-input-item",14),e.bIt("click",function(){return t.runQuickCommand("status")}),e.EFF(38," Send status digest "),e.j41(39,"sng-search-input-shortcut"),e.EFF(40,"\u2318S"),e.k0s()()()()(),e.j41(41,"div",3)(42,"sng-badge",15),e.EFF(43,"Last command"),e.k0s(),e.j41(44,"span",16),e.EFF(45),e.k0s()()()(),e.j41(46,"div",17)(47,"h2",18),e.EFF(48,"Active Alerts"),e.k0s(),e.j41(49,"sng-alert",19)(50,"sng-alert-title"),e.EFF(51,"Critical: prod-cache-01 Down"),e.k0s(),e.j41(52,"sng-alert-description"),e.EFF(53," Server has been unresponsive for 15 minutes. Last ping failed at 14:32 UTC. "),e.k0s()(),e.j41(54,"sng-alert")(55,"sng-alert-title"),e.EFF(56,"Warning: High Memory on prod-db-01"),e.k0s(),e.j41(57,"sng-alert-description"),e.EFF(58," Memory usage at 89%, exceeds threshold of 80%. Consider scaling. "),e.k0s()()(),e.j41(59,"sng-card")(60,"sng-card-header")(61,"sng-card-title"),e.EFF(62,"Alert Rules"),e.k0s(),e.j41(63,"sng-card-description"),e.EFF(64,"Configure thresholds for automated alerts"),e.k0s()(),e.j41(65,"sng-card-content")(66,"sng-table")(67,"sng-table-header")(68,"sng-table-row")(69,"sng-table-head"),e.EFF(70,"Rule"),e.k0s(),e.j41(71,"sng-table-head"),e.EFF(72,"Metric"),e.k0s(),e.j41(73,"sng-table-head"),e.EFF(74,"Threshold"),e.k0s(),e.j41(75,"sng-table-head"),e.EFF(76,"Severity"),e.k0s(),e.j41(77,"sng-table-head"),e.EFF(78,"Enabled"),e.k0s()()(),e.j41(79,"sng-table-body"),e.Z7z(80,h,15,11,"sng-table-row",null,m),e.k0s()()()()()),2&i&&(e.R7$(5),e.R50("pressed",t.autoRefresh),e.R7$(),e.Y8G("icon",t.refreshDoubleRegularIcon),e.R7$(),e.R50("pressed",t.soundEnabled),e.R7$(),e.Y8G("icon",t.soundHighRegularIcon),e.R7$(10),e.R50("value",t.commandQuery),e.R7$(27),e.JRh(t.lastCommand()),e.R7$(35),e.Dyx(t.alertRules()))},dependencies:[n.tTE,n.Kxg,n.fYN,n.hHM,n.slv,n.X8J,n.oS7,n.n2A,n.PZk,n.FA0,n.VDd,n.gT2,n.F8E,n.FOp,n.cPJ,n.Pvw,n.PVZ,n.tqA,n.zBh,n.byW,n.nQu,n.yvG,n.Ezm,n.WC5,n._fo,n.P7j,d.SngIcon],encapsulation:2,changeDetection:0})}return l})()}}]);